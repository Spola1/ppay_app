{
  "openapi": "3.0.1",
  "info": {
    "title": "API V1",
    "description": "# ❗Авторизация\nДля выполнения на этой странице тестового запроса, требующего авторизацию (запрос с замочком), необходимо нажать кнопку `Authorize` и вставить туда ваш API-ключ.\n\n\n**Если вы разрабатываете интеграцию с нашим API, API-ключ нужно подставлять в header `Authorization` в формате `Bearer {Ваш API-ключ}`**",
    "version": "v1"
  },
  "paths": {
    "/api/v1/balance": {
      "get": {
        "summary": "Запрос текущего баланса",
        "tags": [
          "Общие"
        ],
        "security": [
          {
            "bearerAuth": {
            }
          }
        ],
        "description": "## Запрос баланса\n\nДля получения текущего баланса нужно отправить GET-запрос `/api/v1/balance`.\n\n\n<br>\n\n*Для отправки тестового запроса, нажмите кнопку `Try it out`, затем внизу `Execute`*\n\n*Предварительно можно открыть в браузере `Dev Tools (F12)` > вкладка `Network`, чтобы увидеть все данные по запросу.*\n",
        "responses": {
          "200": {
            "description": "bearer user sets up a valid token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/balance_show_response_body_schema"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized on invalid token"
          }
        }
      }
    },
    "/api/v1/external_processing/payments/deposits": {
      "post": {
        "summary": "Создание депозита с внешним процессингом",
        "tags": [
          "Платежи - H2H (оплата на стороне магазина)"
        ],
        "security": [
          {
            "bearerAuth": {
            }
          }
        ],
        "description": "<details>\n<summary><h2>Создание депозита</h2></summary>\n\n<details>\n<summary><h3>Отправка запроса</h3></summary>\n\nДля отправки запроса нужно сформировать тело (Request body, пример ниже) в\nформате JSON со следующими параметрами:\n\n<table>\n  <thead>\n    <tr>\n      <th>Параметр</th>\n      <th>Название</th>\n      <th>Тип</th>\n      <th>Наличие</th>\n      <th>Описание</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>payment_system</code></td>\n      <td>Платёжная система</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>Платёжная система для переводов в национальной валюте. Если не указана, берётся любая в национальной валюте из найденного объявления.</td>\n    </tr>\n    <tr>\n      <td><code>national_currency</code></td>\n      <td>Национальная валюта</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>Укажите валюту, в которой клиент будет вносить деньги.</td>\n    </tr>\n    <tr>\n      <td><code>national_currency_amount</code></td>\n      <td>Сумма</td>\n      <td>Number</td>\n      <td>Обязательно</td>\n      <td>Укажите сумму платежа.</td>\n    </tr>\n    <tr>\n      <td><code>external_order_id</code></td>\n      <td>Внешний ID заявки</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>Укажите ID платежа или заявки в Вашей системе, чтобы можно было по нему отследить платёж у нас.</td>\n    </tr>\n    <tr>\n      <td><code>callback_url</code></td>\n      <td>Ссылка обратного вызова</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>Укажите Вашу ссылку обратного вызова, для POST запросов об изменениях статуса.</td>\n    </tr>\n  </tbody>\n</table>\n\n</details> <!-- request -->\n\n<details>\n<summary><h3>Ответ на запрос</h3></summary>\n\nВ случае успешного создания депозита вы получите ответ с кодом 201 и JSON-ом в\nтеле ответа со следующими полями:\n\n| Параметр                   | Название                     | Тип    | Наличие     | Описание                                                                    |\n|----------------------------|------------------------------|--------|-------------|-----------------------------------------------------------------------------|\n| `id`, `uuid`               | Идентификатор платежа        | String | Обязательно | Уникальный идентификатор, для возможного дальнейшего обращения              |\n| `type`                     | Тип                          | String | Обязательно | Deposit, Withdrawal                                                         |\n| `card_number`              | Номер карты                  | String | Обязательно | Номер карты в выбранной при запросе платёжной системе                       |\n| `expiration_time`          | Время действия платежа       | String | Обязательно | Время, в течении которого необходимо осуществить перевод                    |\n| `national_currency`        | Национальная валюта          | String | Обязательно | Валюта для перевода                                                         |\n| `national_currency_amount` | Сумма                        | String | Обязательно | Сумма для перевода                                                          |\n| `payment_system`           | Платёжная система            | String | Обязательно | Платёжная система для перевода                                              |\n| `initial_amount`           | Начальное количество         | String | Обязательно | Изначальная сумма в национальной валюте                                     |\n| `payment_link`             | Платёжная ссылка             | String | Опционально | Ссылка платёжной системы для быстрого перевода                              |\n| `payment_link_qr_code_url` | URL QR-кода платёжной ссылки | String | Опционально | URL адрес SVG изображения QR-кода для быстрого перехода по платёжной ссылке |\n| `cryptocurrency_commission_amount` | Комиссия в криптовалюте | Number | Обязательно | Общая сумма комиссии, которая будет удержана из суммы платежа в криптовалюте (USDT) |\n| `national_currency_commission_amount` | Комиссия в нац. валюте | Number | Обязательно | Общая сумма комиссии, которая будет удержана из суммы платежа в национальной валюте. Все расчеты комиссий происходят в криптовалюте USDT по актуальному курсу на момент создания платежа. Комиссия в национальной валюте - это (комиссия в криптовалюте * актуальный курс) |\n| `card_owner_name` | Имя владельца карты | String | Опционально | Имя владельца карты в выбранной при запросе платёжной системе |\n| `sbp_phone_number` | Номер телефона СБП | String | Опционально | Номер телефона СБП |\n\n</details> <!-- response -->\n\n<details>\n<summary><h3>Дальнейшее изменение статуса платежа</h3></summary>\n\nПосле успешного ответа вы должны будете отобразить клиенту номер карты\n`card_number` и сумму `national_currency_amount` для перевода.\n\nДалее клиент должен нажать кнопку, что он перевел деньги и после нажатия этой\nкнопки вы отправляете нам запрос `PATCH\n/api/v1/external_processing/payments/{uuid}/statuses/{event}` с ивентом `check`\n(документация по запросу есть ниже).\n\n> Рекомендуется, с помощью этого метода и ивента `check`, переводить платеж в\n> следующий статус после того, как клиент нажмет кнопку \"я оплатил\".\n>\n> Eсли у вас такой кнопки нет и отсутствует что-то подобное во флоу, то вы\n> можете отправлять данный запрос сразу после получения реквизитов, будто бы\n> клиент уже сделал перевод.\n>\n> Без этого запроса платеж тоже может получить финальный статус (так как клиент\n> может просто не нажать кнопку, но сделать перевод), но все же крайне\n> рекомендуем в этот статус переводить, так как его отсутствие может повлиять на\n> скорость обработки. Она может существенно затянуться.\n\nПосле отправки этого запроса вы получите ответ успешный код 204 и платеж\nперейдет в статус подтверждения `confirming`, после чего вам нужно будет ожидать\nфинальный статус на ваш вебхук `callback_url`, который вы указали. Финальный\nстатусы `completed` - успешный и `cancelled` - платеж отменен.\n\n</details> <!-- payment statuses event -->\n\n</details>\n\n\n\n<details>\n<summary><h2>Ссылка обратного вызова (callback_url)</h2></summary>\n\nСервис создания депозита будет информировать Вас об изменениях\nстатуса платежа с помощью ссылки `callback_url`. По ней будет отправляться серия\nPOST запросов (при каждом изменении статуса) со следующей информацией.\n\n### В заголовках (headers):\n\n| Заголовок                              | Описание                                                               |\n|----------------------------------------|------------------------------------------------------------------------|\n| `Content-Type: application/json`       | Тело запроса содержит JSON объект                                      |\n| `Authorization: Bearer {Ваш API-ключ}` | Ваш API ключ, для удостоверения того что запрос пришёл с нашей стороны |\n\n<br>\n\n### В теле запроса в формате JSON:\n\n<table>\n  <thead>\n    <tr>\n      <th>Параметр</th>\n      <th>Название</th>\n      <th>Тип</th>\n      <th>Наличие</th>\n      <th>Описание</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>uuid</code></td>\n      <td>Идентификатор платежа</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>Универсальный уникальный идентификатор платежа</td>\n    </tr>\n    <tr>\n      <td><code>extenal_order_id</code></td>\n      <td>Внешний ID заявки</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>ID платежа в Вашей системе</td>\n    </tr>\n    <tr>\n      <td><code>payment_status</code></td>\n      <td>Статус платежа</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>\n        Статус платежа. Может иметь следующие значения:\n        <ul>\n          <li><strong>processer_search</strong> — Поиск оператора</li>\n          <li><strong>transferring</strong> — Перевод денег</li>\n          <li><strong>confirming</strong> — Подтверждение перевода</li>\n          <li><strong>completed</strong> — Успешно завершён</li>\n          <li><strong>cancelled</strong> — Отменён</li>\n        </ul>\n      </td>\n    </tr>\n    <tr>\n      <td><code>cancellation_reason</code></td>\n      <td>Причина отмены</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>\n        Причина отмены платежа. Может иметь следующие значения:\n        <ul>\n          <li><strong>by_client</strong> — Отменено клиентом</li>\n          <li><strong>duplicate_payment</strong> — Задублированный платеж</li>\n          <li><strong>fraud_attempt</strong> — Попытка мошенничества</li>\n          <li><strong>incorrect_amount</strong> — Переведённая клиентом сумма не соответствует запрошенной</li>\n        </ul>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n### Пример приходящего по callback_url запроса:\n\n```\n{\n  \"data\": {\n    \"uuid\": \"8de5d972-cdbb-48c1-9afe-318c38247fa7\",\n    \"type\": \"Deposit\",\n    \"attributes\": {\n      \"uuid\": \"8de5d972-cdbb-48c1-9afe-318c38247fa7\",\n      \"external_order_id\": \"1234\",\n      \"payment_status\": \"confirming\",\n      \"national_currency\": \"RUB\",\n      \"national_currency_amount\": \"2999.99\",\n      \"initial_amount\": \"3000.0\",\n      \"cryptocurrency_commission_amount\": 3.2632,\n      \"national_currency_commission_amount\": 200.001528\n    }\n  }\n}\n```\n</details>\n\n\n\n<br>\n\n*Для отправки тестового запроса, нажмите кнопку `Try it out`, затем внизу `Execute`*\n\n*Предварительно можно открыть в браузере `Dev Tools (F12)` > вкладка `Network`, чтобы увидеть все данные по запросу.*\n",
        "parameters": [

        ],
        "responses": {
          "201": {
            "description": "успешное создание",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "id": "3b1579d1-b8b2-44f5-93f4-850cdadb2ec2",
                    "type": "deposit",
                    "attributes": {
                      "uuid": "3b1579d1-b8b2-44f5-93f4-850cdadb2ec2",
                      "card_number": "2386724827706979",
                      "expiration_time": "2023-11-01T13:14:00.229+03:00",
                      "national_currency": "RUB",
                      "national_currency_amount": "100.0",
                      "payment_system": "Sberbank",
                      "initial_amount": "100.0",
                      "cryptocurrency_commission_amount": 0.03988433542726094,
                      "national_currency_commission_amount": 3.9999999999999996,
                      "card_owner_name": "John Doe",
                      "sbp_phone_number": "+1234567890",
                      "payment_link": "https://bank.com/ab/cdefg",
                      "payment_link_qr_code_url": "http://example.org/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBOZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--c49739fd44f7178ad8a8200b707d6011a2dba057/bc84727c3969ac52ffd44bfcb61512d5.svg"
                    }
                  }
                },
                "schema": {
                  "$ref": "#/components/schemas/external_processing_deposits_create_response_body_schema"
                }
              }
            }
          },
          "422": {
            "description": "invalid",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "title": "advertisement",
                      "detail": "не найден",
                      "code": 422
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/external_processing_deposits_create_parameter_body_schema"
              }
            }
          }
        }
      }
    },
    "/api/v1/external_processing/payments/{uuid}/payment_receipts": {
      "post": {
        "summary": "Создание чека платежа с внешним процессингом",
        "tags": [
          "Платежи - H2H (оплата на стороне магазина)"
        ],
        "security": [
          {
            "bearerAuth": {
            }
          }
        ],
        "description": "## Создание чека платежа\n\nДля отправки запроса нужно указать уникальный идентификатор платежа **uuid** в\nадресной строке POST-запроса\n`/api/v1/external_processing/payments/{uuid}/payment_receipts`.\n\nВ теле `multipart/form-data` запроса передать следующие параметры:\n\n| Параметр            | Название              | Тип     | Наличие     | Описание                                                                                                                              |\n|---------------------|-----------------------|---------|-------------|---------------------------------------------------------------------------------------------------------------------------------------|\n| `image`             | Изображение           | File    | Обязательно | Изображение чека                                                                                                                      |\n| `comment`           | Комментарий           | String  | Опционально | Комментарий к чеку                                                                                                                    |\n| `receipt_reason`    | Причина отправки чека | String  | Опционально | Может иметь значения: **check_by_check** - Проверить по чеку, **incorrect_amount_check** - Перевели неверную сумму, проверить по чеку |\n| `start_arbitration` | Открыть арбитраж      | Boolean | Опционально | **true** если необходимо открыть арбитраж для платежа                                                                                 |\n\n<br>\n\n## Примеры использования\n\nВозможны два основных сценария использования.\n\n<details>\n<summary><h3>Ускорение обработки платежа</h3></summary>\n\nЕсли клиент хочет ускорить проведение платежа с помощью чека, для этого надо\nпросто загрузить чек и указать параметр `start_arbitration: false`, причину\nотправки `receipt_reason` указывать не нужно.\n\nКомментарий опционально — можно добавить, но необязательно.\n\nПример:\n\n| Параметр            | Значение                  |\n|---------------------|---------------------------|\n| `image`             | Прикреплённое изображение |\n| `comment`           | `\"Перевод на карту 3000\"` |\n| `start_arbitration` | `false`                   |\n\n</details>\n\n<details>\n<summary><h3>Оспаривание, открытие диспута/арбитража.</h3></summary>\n\nЕсли платёж был отменён и клиент хочет это оспорить, надо загрузить чек, указать\nпараметр `start_arbitration: true` и причину отправки чека `receipt_reason`.\n\nКомментарий опционально — можно добавить, но необязательно.\n\nПример:\n\n| Параметр            | Значение                  |\n|---------------------|---------------------------|\n| `image`             | Прикреплённое изображение |\n| `receipt_reason`    | `\"check_by_check\"`        |\n| `start_arbitration` | `true`                    |\n\n</details>\n\n\n<br>\n\n*Для отправки тестового запроса, нажмите кнопку `Try it out`, затем внизу `Execute`*\n\n*Предварительно можно открыть в браузере `Dev Tools (F12)` > вкладка `Network`, чтобы увидеть все данные по запросу.*\n",
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "чек успешно создан",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "attributes": {
                          "type": "object",
                          "properties": {
                            "image_url": {
                              "type": "string"
                            },
                            "comment": {
                              "type": "string",
                              "nullable": true
                            },
                            "receipt_reason": {
                              "type": "string",
                              "enum": {
                                "duplicate_payment": 0,
                                "fraud_attempt": 1,
                                "incorrect_amount": 2,
                                "not_paid": 3,
                                "time_expired": 4,
                                "check_by_check": 5,
                                "incorrect_amount_check": 6,
                                "reason_in_chat": 7
                              },
                              "nullable": true
                            },
                            "start_arbitration": {
                              "type": "boolean",
                              "nullable": true
                            },
                            "source": {
                              "type": "string",
                              "enum": {
                                "merchant_dashboard": 0,
                                "hpp_form": 1,
                                "merchant_service": 2,
                                "support_dashboard": 3
                              },
                              "nullable": true
                            }
                          },
                          "required": [
                            "image_url",
                            "comment",
                            "receipt_reason",
                            "start_arbitration",
                            "source"
                          ]
                        }
                      },
                      "required": [
                        "id",
                        "type"
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "чек не создан"
          }
        },
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "file"
                  },
                  "comment": {
                    "type": "string"
                  },
                  "receipt_reason": {
                    "type": "string"
                  },
                  "start_arbitration": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "image"
                ]
              }
            }
          }
        }
      }
    },
    "/api/v1/external_processing/payments/{uuid}/statuses/{event}": {
      "patch": {
        "summary": "Обновление статуса платежа с внешним процессингом",
        "tags": [
          "Платежи - H2H (оплата на стороне магазина)"
        ],
        "security": [
          {
            "bearerAuth": {
            }
          }
        ],
        "description": "## Обновление статуса платежа\n\n> Подробнее о назначении данного запроса вы можете прочитать в подразделах\n> \"Дальнейшее изменение статуса платежа\" описаний запросов на создание депозитов\n> и выводов средств с внешним процессингом.\n\nДля отправки запроса нужно указать уникальный идентификатор платежа **uuid** и\nсобытие **event** в строке GET-запроса\n`/api/v1/external_processing/payments/{uuid}/statuses/{event}`.\n\nВозможные события для **депозитов**:\n- **check** — проверить переведённые клиентом средства по платёжной системе.\n- **cancel** — отменить платёж.\n\nВозможные события для **выводов средств**:\n- **confirm** — подтвердить принятые клиентом средства по платёжной системе.\n\n### В теле запроса в формате JSON\n\nЕсли данный параметр вам не требуется, тело запроса можно оставить пустым.\n\n| Параметр         | Название             | Тип    | Наличие     | Описание                                                |\n|------------------|----------------------|--------|-------------|---------------------------------------------------------|\n| `account_number` | Номер учётной записи | String | Опционально | Учётная запись для активированной проверки номера счёта |\n\n\n\n<br>\n\n*Для отправки тестового запроса, нажмите кнопку `Try it out`, затем внизу `Execute`*\n\n*Предварительно можно открыть в браузере `Dev Tools (F12)` > вкладка `Network`, чтобы увидеть все данные по запросу.*\n",
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "event",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "статус успешно обновлен"
          },
          "422": {
            "description": "ошибка валидации"
          },
          "400": {
            "description": "данный event недоступен в текущем статусе"
          },
          "404": {
            "description": "платеж с указанным uuid не найден"
          },
          "401": {
            "description": "неверный API-ключ"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/external_processing_deposits_create_status_patameter_body_schema"
              }
            }
          }
        }
      }
    },
    "/api/v1/external_processing/payments/withdrawals": {
      "post": {
        "summary": "Создание вывода средств с внешним процессингом",
        "tags": [
          "Платежи - H2H (оплата на стороне магазина)"
        ],
        "security": [
          {
            "bearerAuth": {
            }
          }
        ],
        "description": "<details>\n<summary><h2>Создание вывода средств</h2></summary>\n\n<details>\n<summary><h3>Отправка запроса</h3></summary>\n\nДля отправки запроса нужно сформировать тело (Request body, пример ниже) в формате JSON со\nследующими параметрами:\n\n| Параметр                   | Название                | Тип    | Наличие     | Описание                                                                                       |\n|----------------------------|-------------------------|--------|-------------|------------------------------------------------------------------------------------------------|\n| `payment_system`           | Платёжная система       | String | Опционально | Платёжная система для переводов в национальной валюте. Если не указана, берётся любая в национальной валюте из найденного объявления. |\n| `card_number`              | Номер карты             | String | Обязательно | Номер карты в выбранной платёжной системе.                                                      |\n| `national_currency`        | Национальная валюта     | String | Обязательно | Укажите валюту, в которой клиент хочет получить деньги.                                         |\n| `national_currency_amount` | Сумма                   | Number | Обязательно | Укажите сумму платежа.                                                                          |\n| `external_order_id`        | Внешний ID заявки       | String | Опционально | Укажите ID платежа или заявки в Вашей системе, чтобы можно было по нему отследить платёж у нас. |\n| `callback_url`             | Ссылка обратного вызова | String | Обязательно | Укажите Вашу ссылку обратного вызова, для POST запросов об изменениях статуса.                  |\n| `cryptocurrency_commission_amount` | Комиссия в криптовалюте | Number | Обязательно | Общая сумма комиссии, которая будет удержана из суммы платежа в криптовалюте (USDT). |\n| `national_currency_commission_amount` | Комиссия в нац. валюте | Number | Обязательно | Общая сумма комиссии, которая будет удержана из суммы платежа в национальной валюте. Все расчеты комиссий происходят в криптовалюте USDT по актуальному курсу на момент создания платежа. Комиссия в национальной валюте - это (комиссия в криптовалюте * актуальный курс) |\n\n</details> <!-- request -->\n\n<details>\n<summary><h3>Ответ на запрос</h3></summary>\n\nВ случае успешного создания вывода средств вы получите ответ с кодом 201 и JSON-ом в\nтеле ответа со следующими полями:\n\n| Параметр                   | Название                     | Тип    | Наличие     | Описание                                                                    |\n|----------------------------|------------------------------|--------|-------------|-----------------------------------------------------------------------------|\n| `id`, `uuid`               | Идентификатор платежа        | String | Обязательно | Уникальный идентификатор, для возможного дальнейшего обращения              |\n| `type`                     | Тип                          | String | Обязательно | Deposit, Withdrawal                                                         |\n| `card_number`              | Номер карты                  | String | Обязательно | Номер карты в выбранной при запросе платёжной системе                       |\n| `expiration_time`          | Время действия платежа       | String | Обязательно | Время, в течении которого необходимо осуществить перевод                    |\n| `national_currency`        | Национальная валюта          | String | Обязательно | Валюта для перевода                                                         |\n| `national_currency_amount` | Сумма                        | String | Обязательно | Сумма для перевода                                                          |\n| `payment_system`           | Платёжная система            | String | Обязательно | Платёжная система для перевода                                              |\n| `initial_amount`           | Начальное количество         | String | Обязательно | Изначальная сумма в национальной валюте                                     |\n| `payment_link`             | Платёжная ссылка             | String | Опционально | Ссылка платёжной системы для быстрого перевода                              |\n| `payment_link_qr_code_url` | URL QR-кода платёжной ссылки | String | Опционально | URL адрес SVG изображения QR-кода для быстрого перехода по платёжной ссылке |\n| `cryptocurrency_commission_amount` | Комиссия в криптовалюте | Number | Обязательно | Общая сумма комиссии, которая будет удержана из суммы платежа в криптовалюте (USDT) |\n| `national_currency_commission_amount` | Комиссия в нац. валюте | Number | Обязательно | Общая сумма комиссии, которая будет удержана из суммы платежа в национальной валюте. Все расчеты комиссий происходят в криптовалюте USDT по актуальному курсу на момент создания платежа. Комиссия в национальной валюте - это (комиссия в криптовалюте * актуальный курс) |\n| `card_owner_name` | Имя владельца карты | String | Опционально | Имя владельца карты в выбранной при запросе платёжной системе |\n| `sbp_phone_number` | Номер телефона СБП | String | Опционально | Номер телефона СБП |\n\n</details> <!-- response -->\n\n<details>\n<summary><h3>Дальнейшее изменение статуса платежа</h3></summary>\n\nПосле успешного ответа вам нужно ожидать статуса `confirming` на вашем вебхуке\n`callback_url`, который вы указали.\n\nДалее у клиента должна отобразиться кнопка, что он успешно получил деньги на\nсвою карту. По нажатию этой кнопки, вам нужно отправить запрос `PATCH\n/api/v1/external_processing/payments/{uuid}/statuses/{event}` с ивентом\n`confirm` (документация по запросу есть выше). После этого вам должен прийти на\n`callback_url` финальный статус `completed` - успешно.\n\n</details> <!-- payment statuses event -->\n\n\n</details>\n\n\n\n\n<details>\n<summary><h2>Ссылка обратного вызова (callback_url)</h2></summary>\n\nСервис создания вывода средств будет информировать Вас об изменениях\nстатуса платежа с помощью ссылки `callback_url`. По ней будет отправляться серия\nPOST запросов (при каждом изменении статуса) со следующей информацией.\n\n### В заголовках (headers):\n\n| Заголовок                              | Описание                                                               |\n|----------------------------------------|------------------------------------------------------------------------|\n| `Content-Type: application/json`       | Тело запроса содержит JSON объект                                      |\n| `Authorization: Bearer {Ваш API-ключ}` | Ваш API ключ, для удостоверения того что запрос пришёл с нашей стороны |\n\n<br>\n\n### В теле запроса в формате JSON:\n\n<table>\n  <thead>\n    <tr>\n      <th>Параметр</th>\n      <th>Название</th>\n      <th>Тип</th>\n      <th>Наличие</th>\n      <th>Описание</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>uuid</code></td>\n      <td>Идентификатор платежа</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>Универсальный уникальный идентификатор платежа</td>\n    </tr>\n    <tr>\n      <td><code>extenal_order_id</code></td>\n      <td>Внешний ID заявки</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>ID платежа в Вашей системе</td>\n    </tr>\n    <tr>\n      <td><code>payment_status</code></td>\n      <td>Статус платежа</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>\n        Статус платежа. Может иметь следующие значения:\n        <ul>\n          <li><strong>processer_search</strong> — Поиск оператора</li>\n          <li><strong>transferring</strong> — Перевод денег</li>\n          <li><strong>confirming</strong> — Подтверждение перевода</li>\n          <li><strong>completed</strong> — Успешно завершён</li>\n          <li><strong>cancelled</strong> — Отменён</li>\n        </ul>\n      </td>\n    </tr>\n    <tr>\n      <td><code>cancellation_reason</code></td>\n      <td>Причина отмены</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>\n        Причина отмены платежа. Может иметь следующие значения:\n        <ul>\n          <li><strong>by_client</strong> — Отменено клиентом</li>\n          <li><strong>duplicate_payment</strong> — Задублированный платеж</li>\n          <li><strong>fraud_attempt</strong> — Попытка мошенничества</li>\n          <li><strong>incorrect_amount</strong> — Переведённая клиентом сумма не соответствует запрошенной</li>\n        </ul>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n### Пример приходящего по callback_url запроса:\n\n```\n{\n  \"data\": {\n    \"uuid\": \"8de5d972-cdbb-48c1-9afe-318c38247fa7\",\n    \"type\": \"Deposit\",\n    \"attributes\": {\n      \"uuid\": \"8de5d972-cdbb-48c1-9afe-318c38247fa7\",\n      \"external_order_id\": \"1234\",\n      \"payment_status\": \"confirming\",\n      \"national_currency\": \"RUB\",\n      \"national_currency_amount\": \"2999.99\",\n      \"initial_amount\": \"3000.0\",\n      \"cryptocurrency_commission_amount\": 3.2632,\n      \"national_currency_commission_amount\": 200.001528\n    }\n  }\n}\n```\n</details>\n\n\n\n<br>\n\n*Для отправки тестового запроса, нажмите кнопку `Try it out`, затем внизу `Execute`*\n\n*Предварительно можно открыть в браузере `Dev Tools (F12)` > вкладка `Network`, чтобы увидеть все данные по запросу.*\n",
        "parameters": [

        ],
        "responses": {
          "201": {
            "description": "успешное создание",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "id": "861dfedf-56c7-4694-854d-d975690f70ed",
                    "type": "withdrawal",
                    "attributes": {
                      "uuid": "861dfedf-56c7-4694-854d-d975690f70ed",
                      "national_currency": "RUB",
                      "national_currency_amount": "3000.0",
                      "payment_system": "Sberbank",
                      "initial_amount": "3000.0",
                      "cryptocurrency_commission_amount": 1.1965300628178284,
                      "national_currency_commission_amount": 119.99999999999997
                    }
                  }
                },
                "schema": {
                  "$ref": "#/components/schemas/external_processing_withdrawals_create_response_body_schema"
                }
              }
            }
          },
          "422": {
            "description": "invalid",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "title": "national_currency_amount",
                      "detail": "недостаточный баланс",
                      "code": 422
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/external_processing_withdrawals_create_parameter_body_schema"
              }
            }
          }
        }
      }
    },
    "/get-api-link": {
      "get": {
        "summary": "Получить ссылки для отправки пинга и сообщений",
        "tags": [
          "Мобильное приложение"
        ],
        "security": [
          {
            "bearerAuth": {
            }
          }
        ],
        "description": "## Запрос ссылок\n\nДля получения ссылок нужно отправить GET-запрос `/get-api-link`.\n\n\n<br>\n\n*Для отправки тестового запроса, нажмите кнопку `Try it out`, затем внизу `Execute`*\n\n*Предварительно можно открыть в браузере `Dev Tools (F12)` > вкладка `Network`, чтобы увидеть все данные по запросу.*\n",
        "responses": {
          "200": {
            "description": "успешный ответ системы",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ping_url": {
                      "type": "string",
                      "example": "/api/v1/catcher/ping"
                    },
                    "message_url": {
                      "type": "string",
                      "example": "/api/v1/simbank/requests"
                    }
                  },
                  "required": [
                    "ping_url",
                    "message_url"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "не авторизован"
          }
        }
      },
      "post": {
        "summary": "Отправить информацию о клиенте",
        "description": "## Отправка информации о клиенте\n\nДля отправки запроса нужно сформировать тело (Request body) в формате JSON со следующими параметрами:\n\n| Параметр    | Название   | Тип    | Наличие     | Описание               |\n|-------------|------------|--------|-------------|------------------------|\n| application | Приложение | Object | Обязательно | блок данных приложения |\n| device      | Устройство | Object | Обязательно | блок данных устройства |\n\n### Блок данных приложения\n\n| Параметр | Название | Тип    | Наличие     | Описание          |\n|----------|----------|--------|-------------|-------------------|\n| id       | UUID     | String | Обязательно | UUID приложения   |\n| version  | версия   | String | Обязательно | Версия приложения |\n\n### Блок данных устройства\n\n| Параметр | Название | Тип    | Наличие     | Описание |\n|----------|----------|--------|-------------|----------|\n| ip       | IP адрес | String | Обязательно |          |\n| model    | Модель   | String | Обязательно |          |\n\n\n<br>\n\n*Для отправки тестового запроса, нажмите кнопку `Try it out`, затем внизу `Execute`*\n\n*Предварительно можно открыть в браузере `Dev Tools (F12)` > вкладка `Network`, чтобы увидеть все данные по запросу.*\n",
        "tags": [
          "Мобильное приложение"
        ],
        "security": [
          {
            "bearerAuth": {
            }
          }
        ],
        "parameters": [

        ],
        "responses": {
          "201": {
            "description": "запись с клиентской информацией создана"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "application": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "example": "5b355a3f-2486-4d72-b62a-ff36e9d107d0"
                      },
                      "version": {
                        "type": "string",
                        "example": "1.33.7"
                      }
                    },
                    "required": [
                      "id",
                      "version"
                    ]
                  },
                  "device": {
                    "type": "object",
                    "properties": {
                      "ip": {
                        "type": "string",
                        "example": "1.3.3.7"
                      },
                      "model": {
                        "type": "string",
                        "example": "TopForItsMoney 13X"
                      }
                    },
                    "required": [
                      "ip",
                      "model"
                    ]
                  }
                },
                "required": [
                  "application",
                  "device"
                ]
              }
            }
          }
        }
      }
    },
    "/api/v1/catcher/ping": {
      "post": {
        "summary": "Отправить пинг с информацией о клиенте",
        "description": "## Отправка пинга с информацией о клиенте\n\nДля отправки запроса нужно сформировать тело (Request body) в формате JSON со следующими параметрами:\n\n| Параметр    | Название   | Тип    | Наличие     | Описание               |\n|-------------|------------|--------|-------------|------------------------|\n| application | Приложение | Object | Обязательно | блок данных приложения |\n| device      | Устройство | Object | Обязательно | блок данных устройства |\n\n### Блок данных приложения\n\n| Параметр | Название | Тип    | Наличие     | Описание          |\n|----------|----------|--------|-------------|-------------------|\n| id       | UUID     | String | Обязательно | UUID приложения   |\n| version  | версия   | String | Обязательно | Версия приложения |\n\n### Блок данных устройства\n\n| Параметр | Название | Тип    | Наличие     | Описание |\n|----------|----------|--------|-------------|----------|\n| ip       | IP адрес | String | Обязательно |          |\n| model    | Модель   | String | Обязательно |          |\n\n\n<br>\n\n*Для отправки тестового запроса, нажмите кнопку `Try it out`, затем внизу `Execute`*\n\n*Предварительно можно открыть в браузере `Dev Tools (F12)` > вкладка `Network`, чтобы увидеть все данные по запросу.*\n",
        "tags": [
          "Мобильное приложение"
        ],
        "security": [
          {
            "bearerAuth": {
            }
          }
        ],
        "parameters": [

        ],
        "responses": {
          "201": {
            "description": "запись с клиентской информацией создана"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "application": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "example": "7e68ca71-d7a6-407a-bb0f-d36ce96f26e1"
                      },
                      "version": {
                        "type": "string",
                        "example": "1.33.7"
                      }
                    },
                    "required": [
                      "id",
                      "version"
                    ]
                  },
                  "device": {
                    "type": "object",
                    "properties": {
                      "ip": {
                        "type": "string",
                        "example": "1.3.3.7"
                      },
                      "model": {
                        "type": "string",
                        "example": "TopForItsMoney 13X"
                      }
                    },
                    "required": [
                      "ip",
                      "model"
                    ]
                  }
                },
                "required": [
                  "application",
                  "device"
                ]
              }
            }
          }
        }
      }
    },
    "/api/v1/payments/deposits": {
      "post": {
        "summary": "Создание депозита",
        "tags": [
          "Платежи - HPP (оплата с переходом по ссылке на наш сайт)"
        ],
        "security": [
          {
            "bearerAuth": {
            }
          }
        ],
        "description": "## Создание депозита\n\nДля отправки запроса нужно сформировать тело (Request body) в формате JSON со следующими параметрами:\n\n<table>\n  <thead>\n    <tr>\n      <th>Параметр</th>\n      <th>Название</th>\n      <th>Тип</th>\n      <th>Наличие</th>\n      <th>Описание</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>national_currency</code></td>\n      <td>Национальная валюта</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>Укажите валюту, в которой клиент будет вносить деньги</td>\n    </tr>\n    <tr>\n      <td><code>national_currency_amount</code></td>\n      <td>Сумма</td>\n      <td>Number</td>\n      <td>Обязательно</td>\n      <td>Укажите сумму платежа</td>\n    </tr>\n    <tr>\n      <td><code>external_order_id</code></td>\n      <td>Внешний ID заявки</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>Укажите ID платежа или заявки в Вашей системе, чтобы можно было по нему отследить платёж у нас</td>\n    </tr>\n    <tr>\n      <td><code>locale</code></td>\n      <td>Язык платежа</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>\n        Может иметь значения: <strong>ru</strong> (русский), <strong>kk</strong> (казахский), <strong>ky</strong> (киргизский), <strong>tg</strong> (таджикский), <strong>tr</strong> (турецкий), <strong>uk</strong> (украинский), <strong>uz</strong> (узбекский), <strong>id</strong> (индонезийский), <strong>azn</strong> (азербайджанский)</br>\n        По умолчанию устанавливается язык соответствующий валюте.</br>\n      </td>\n    </tr>\n    <tr>\n      <td><code>preset_name</code></td>\n      <td>Имя пресета для платежа</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>\n        Укажите имя пресета, который будет использоваться в кастомизации платежа для клиента. По умолчанию устанавливается первый дефолтный пресет.</br>\n      </td>\n    </tr>\n    <tr>\n      <td><code>form_customization_id</code></td>\n      <td>ID пресета для платежа</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>\n        Укажите ID пресета, который будет использоваться в кастомизации платежа для клиента. По умолчанию устанавливается первый дефолтный пресет.</br>\n      </td>\n    </tr>\n    <tr>\n      <td><code>redirect_url</code></td>\n      <td>Ссылка на возврат в магазин</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>Укажите ссылку, по которой клиент вернётся в магазин в конце оплаты</td>\n    </tr>\n    <tr>\n      <td><code>callback_url</code></td>\n      <td>Ссылка обратного вызова</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>Укажите Вашу ссылку обратного вызова, для POST запросов об изменениях статуса</td>\n    </tr>\n  </tbody>\n</table>\n\n<br>\n\n## Ссылка обратного вызова (callback_url)\n\nСервис создания депозита будет информировать Вас об изменениях статуса платежа с\nпомощью ссылки callback_url. По ней будет отправляться серия POST запросов (при\nкаждом изменении статуса) со следующей информацией.\n\n### В заголовках (headers):\n\n| Заголовок                              | Описание                                                               |\n|----------------------------------------|------------------------------------------------------------------------|\n| `Content-Type: application/json`       | Тело запроса содержит JSON объект                                      |\n| `Authorization: Bearer {Ваш API-ключ}` | Ваш API ключ, для удостоверения того что запрос пришёл с нашей стороны |\n\n<br>\n\n### В теле запроса в формате JSON:\n\n<table>\n  <thead>\n    <tr>\n      <th>Параметр</th>\n      <th>Название</th>\n      <th>Тип</th>\n      <th>Наличие</th>\n      <th>Описание</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>uuid</code></td>\n      <td>Идентификатор платежа</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>Универсальный уникальный идентификатор платежа</td>\n    </tr>\n    <tr>\n      <td><code>extenal_order_id</code></td>\n      <td>Внешний ID заявки</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>ID платежа в Вашей системе</td>\n    </tr>\n    <tr>\n      <td><code>payment_status</code></td>\n      <td>Статус платежа</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>\n        Статус платежа. Может иметь следующие значения:\n        <ul>\n          <li><strong>draft</strong> — Ввод данных карты</li>\n          <li><strong>processer_search</strong> — Поиск оператора</li>\n          <li><strong>transferring</strong> — Перевод денег</li>\n          <li><strong>confirming</strong> — Подтверждение перевода</li>\n          <li><strong>completed</strong> — Успешно завершён</li>\n          <li><strong>cancelled</strong> — Отменён</li>\n        </ul>\n      </td>\n    </tr>\n    <tr>\n      <td><code>cancellation_reason</code></td>\n      <td>Причина отмены</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>\n        Причина отмены платежа. Может иметь следующие значения:\n        <ul>\n          <li><strong>by_client</strong> — Отменено клиентом</li>\n          <li><strong>duplicate_payment</strong> — Задублированный платеж</li>\n          <li><strong>fraud_attempt</strong> — Попытка мошенничества</li>\n          <li><strong>incorrect_amount</strong> — Переведённая клиентом сумма не соответствует запрошенной</li>\n        </ul>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n#### Пример приходящего по callback_url запроса:\n\n```\n{\n  \"data\": {\n    \"uuid\": \"8de5d972-cdbb-48c1-9afe-318c38247fa7\",\n    \"type\": \"Deposit\",\n    \"attributes\": {\n      \"uuid\": \"8de5d972-cdbb-48c1-9afe-318c38247fa7\",\n      \"external_order_id\": \"1234\",\n      \"payment_status\": \"confirming\"\n    }\n  }\n}\n```\n\n<br>\n\n*Для отправки тестового запроса, нажмите кнопку `Try it out`, затем внизу `Execute`*\n\n*Предварительно можно открыть в браузере `Dev Tools (F12)` > вкладка `Network`, чтобы увидеть все данные по запросу.*\n",
        "parameters": [

        ],
        "responses": {
          "201": {
            "description": "успешное создание",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "id": "11d01e45-d7e4-4655-8acb-426a631fb8c2",
                    "type": "deposit",
                    "attributes": {
                      "uuid": "11d01e45-d7e4-4655-8acb-426a631fb8c2",
                      "url": "http://example.org/payments/deposits/11d01e45-d7e4-4655-8acb-426a631fb8c2?signature=dbfd037b99b3310c5101a4978a659d36c7a219ce9c8c945eda4b7ab47eb07223"
                    }
                  }
                },
                "schema": {
                  "$ref": "#/components/schemas/payments_create_response_body_schema"
                }
              }
            }
          },
          "422": {
            "description": "invalid",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "title": "national_currency",
                      "detail": "Доступные значения RUB",
                      "code": 422
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/deposits_create_parameter_body_schema"
              }
            }
          }
        }
      }
    },
    "/api/v1/payments/withdrawals": {
      "post": {
        "summary": "Создание вывода средств",
        "tags": [
          "Платежи - HPP (оплата с переходом по ссылке на наш сайт)"
        ],
        "security": [
          {
            "bearerAuth": {
            }
          }
        ],
        "description": "## Создание вывода средств\n\nДля отправки запроса нужно сформировать тело (Request body) в формате JSON со следующими параметрами:\n\n| Параметр                   | Название                    | Тип    | Наличие     | Описание                                                                                       |\n|----------------------------|-----------------------------|--------|-------------|------------------------------------------------------------------------------------------------|\n| `national_currency`        | Национальная валюта         | String | Обязательно | Укажите валюту, в которой клиент хочет получить деньги                                         |\n| `national_currency_amount` | Сумма                       | Number | Обязательно | Укажите сумму платежа                                                                          |\n| `external_order_id`        | Внешний ID заявки           | String | Опционально | Укажите ID платежа или заявки в Вашей системе, чтобы можно было по нему отследить платёж у нас |\n| `locale`        | Язык платежа           | String | Опционально | Может иметь значения: <strong>ru</strong> (русский), <strong>kk</strong> (казахский), <strong>ky</strong> (киргизский), <strong>tg</strong> (таджикский), <strong>tr</strong> (турецкий), <strong>uk</strong> (украинский), <strong>uz</strong> (узбекский), <strong>id</strong> (индонезийский), <strong>azn</strong> (азербайджанский).</br>По умолчанию устанавливается язык соответствующий валюте.</br> |\n| `preset_name`              | Имя пресета для платежа     | String | Опционально | Укажите имя пресета, который будет использоваться в кастомизации платежа для клиента. По умолчанию устанавливается первый дефолтный пресет |\n| `form_customization_id`    | ID пресета для платежа      | String | Опционально | Укажите ID пресета, который будет использоваться в кастомизации платежа для клиента. По умолчанию устанавливается первый дефолтный пресет |\n| `redirect_url`             | Ссылка на возврат в магазин | String | Обязательно | Укажите ссылку, по которой клиент вернётся в магазин в конце оплаты                            |\n| `callback_url`             | Ссылка обратного вызова     | String | Обязательно | Укажите Вашу ссылку обратного вызова, для POST запросов об изменениях статуса                  |\n\n<br>\n\n## Ссылка обратного вызова (callback_url)\n\nСервис создания вывода средств будет информировать Вас об изменениях статуса платежа с\nпомощью ссылки callback_url. По ней будет отправляться серия POST запросов (при\nкаждом изменении статуса) со следующей информацией.\n\n### В заголовках (headers):\n\n| Заголовок                              | Описание                                                               |\n|----------------------------------------|------------------------------------------------------------------------|\n| `Content-Type: application/json`       | Тело запроса содержит JSON объект                                      |\n| `Authorization: Bearer {Ваш API-ключ}` | Ваш API ключ, для удостоверения того что запрос пришёл с нашей стороны |\n\n<br>\n\n### В теле запроса в формате JSON:\n\n<table>\n  <thead>\n    <tr>\n      <th>Параметр</th>\n      <th>Название</th>\n      <th>Тип</th>\n      <th>Наличие</th>\n      <th>Описание</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>uuid</code></td>\n      <td>Идентификатор платежа</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>Универсальный уникальный идентификатор платежа</td>\n    </tr>\n    <tr>\n      <td><code>extenal_order_id</code></td>\n      <td>Внешний ID заявки</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>ID платежа в Вашей системе</td>\n    </tr>\n    <tr>\n      <td><code>payment_status</code></td>\n      <td>Статус платежа</td>\n      <td>String</td>\n      <td>Обязательно</td>\n      <td>\n        Статус платежа. Может иметь следующие значения:\n        <ul>\n          <li><strong>draft</strong> — Ввод данных карты</li>\n          <li><strong>processer_search</strong> — Поиск оператора</li>\n          <li><strong>transferring</strong> — Перевод денег</li>\n          <li><strong>confirming</strong> — Подтверждение перевода</li>\n          <li><strong>completed</strong> — Успешно завершён</li>\n          <li><strong>cancelled</strong> — Отменён</li>\n        </ul>\n      </td>\n    </tr>\n    <tr>\n      <td><code>cancellation_reason</code></td>\n      <td>Причина отмены</td>\n      <td>String</td>\n      <td>Опционально</td>\n      <td>\n        Причина отмены платежа. Может иметь следующие значения:\n        <ul>\n          <li><strong>by_client</strong> — Отменено клиентом</li>\n          <li><strong>duplicate_payment</strong> — Задублированный платеж</li>\n          <li><strong>fraud_attempt</strong> — Попытка мошенничества</li>\n          <li><strong>incorrect_amount</strong> — Переведённая клиентом сумма не соответствует запрошенной</li>\n        </ul>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n#### Пример приходящего по callback_url запроса:\n\n```\n{\n  \"data\": {\n    \"uuid\": \"8de5d972-cdbb-48c1-9afe-318c38247fa7\",\n    \"type\": \"Deposit\",\n    \"attributes\": {\n      \"uuid\": \"8de5d972-cdbb-48c1-9afe-318c38247fa7\",\n      \"external_order_id\": \"1234\",\n      \"payment_status\": \"confirming\"\n    }\n  }\n}\n```\n\n<br>\n\n*Для отправки тестового запроса, нажмите кнопку `Try it out`, затем внизу `Execute`*\n\n*Предварительно можно открыть в браузере `Dev Tools (F12)` > вкладка `Network`, чтобы увидеть все данные по запросу.*\n",
        "parameters": [

        ],
        "responses": {
          "201": {
            "description": "успешное создание",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "id": "5dbc36c9-50b1-4e3f-a6db-71b83c798e71",
                    "type": "withdrawal",
                    "attributes": {
                      "uuid": "5dbc36c9-50b1-4e3f-a6db-71b83c798e71",
                      "url": "http://example.org/payments/withdrawals/5dbc36c9-50b1-4e3f-a6db-71b83c798e71?signature=bde12ebcb026272b4ee4f756ec28fcd9c2916955baad62482b4544486c66016a"
                    }
                  }
                },
                "schema": {
                  "$ref": "#/components/schemas/payments_create_response_body_schema"
                }
              }
            }
          },
          "422": {
            "description": "invalid",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "title": "national_currency",
                      "detail": "Доступные значения RUB",
                      "code": 422
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/withdrawals_create_parameter_body_schema"
              }
            }
          }
        }
      }
    },
    "/api/v1/payments/{uuid}": {
      "get": {
        "summary": "Получение информации по платежу",
        "tags": [
          "Платежи - H2H, HPP"
        ],
        "security": [
          {
            "bearerAuth": {
            }
          }
        ],
        "description": "## Получение информации по платежу\n\nДля отправки запроса нужно добавить uuid платежа в строку GET-запроса `/api/v1/payments/{uuid}`.\n\n<br>\n\n*Для отправки тестового запроса, нажмите кнопку `Try it out`, введите __uuid__ платежа, затем внизу `Execute`*\n\n*Предварительно можно открыть в браузере `Dev Tools (F12)` > вкладка `Network`, чтобы увидеть все данные по запросу.*\n",
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "payment with uuid is present",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/payments_show_response_body_schema"
                }
              }
            }
          },
          "404": {
            "description": "does not found with unauthorized payment access"
          },
          "401": {
            "description": "unauthorized on invalid token"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer"
      }
    },
    "schemas": {
      "balance_show_response_body_schema": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "example": "123"
              },
              "type": {
                "type": "string",
                "example": "Balance"
              },
              "attributes": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "example": "123"
                  },
                  "amount": {
                    "type": "string",
                    "example": "99.99"
                  },
                  "currency": {
                    "type": "string",
                    "example": "USDT"
                  }
                },
                "required": [
                  "id",
                  "amount",
                  "currency"
                ]
              }
            },
            "required": [
              "id",
              "type",
              "attributes"
            ]
          }
        },
        "required": [
          "data"
        ]
      },
      "external_processing_deposits_create_parameter_body_schema": {
        "type": "object",
        "properties": {
          "payment_system": {
            "type": "string",
            "example": "Sberbank"
          },
          "national_currency": {
            "type": "string",
            "example": "RUB"
          },
          "national_currency_amount": {
            "type": "number",
            "example": 3000.0
          },
          "external_order_id": {
            "type": "string",
            "example": "1234"
          },
          "callback_url": {
            "type": "string",
            "example": "https://example.com/callback_url"
          }
        }
      },
      "external_processing_withdrawals_create_parameter_body_schema": {
        "type": "object",
        "properties": {
          "payment_system": {
            "type": "string",
            "example": "Sberbank"
          },
          "card_number": {
            "type": "string",
            "example": "1234 5678 9012 3456"
          },
          "national_currency": {
            "type": "string",
            "example": "RUB"
          },
          "national_currency_amount": {
            "type": "number",
            "example": 3000.0
          },
          "external_order_id": {
            "type": "string",
            "example": "1234"
          },
          "callback_url": {
            "type": "string",
            "example": "https://example.com/callback_url"
          }
        }
      },
      "external_processing_deposits_create_response_body_schema": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "type": {
                "type": "string"
              },
              "attributes": {
                "type": "object",
                "properties": {
                  "uuid": {
                    "type": "string"
                  },
                  "card_number": {
                    "type": "string"
                  },
                  "expiration_time": {
                    "type": "string"
                  },
                  "national_currency": {
                    "type": "string"
                  },
                  "national_currency_amount": {
                    "type": "string"
                  },
                  "initial_amount": {
                    "type": "string"
                  },
                  "payment_link": {
                    "type": "string"
                  },
                  "payment_link_qr_code_url": {
                    "type": "string"
                  },
                  "cryptocurrency_commission_amount": {
                    "type": "number",
                    "example": 10.0
                  },
                  "national_currency_commission_amount": {
                    "type": "number",
                    "example": 100.0
                  }
                },
                "required": [
                  "uuid",
                  "card_number",
                  "expiration_time",
                  "national_currency",
                  "national_currency_amount",
                  "initial_amount"
                ]
              }
            },
            "required": [
              "id",
              "type",
              "attributes"
            ]
          }
        },
        "required": [
          "data"
        ]
      },
      "external_processing_withdrawals_create_response_body_schema": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "type": {
                "type": "string"
              },
              "attributes": {
                "type": "object",
                "properties": {
                  "uuid": {
                    "type": "string"
                  },
                  "national_currency": {
                    "type": "string"
                  },
                  "national_currency_amount": {
                    "type": "string"
                  },
                  "initial_amount": {
                    "type": "string"
                  },
                  "cryptocurrency_commission_amount": {
                    "type": "number",
                    "example": 10.0
                  },
                  "national_currency_commission_amount": {
                    "type": "number",
                    "example": 100.0
                  }
                },
                "required": [
                  "uuid",
                  "national_currency",
                  "national_currency_amount",
                  "initial_amount"
                ]
              }
            },
            "required": [
              "id",
              "type",
              "attributes"
            ]
          }
        },
        "required": [
          "data"
        ]
      },
      "external_processing_deposits_create_status_patameter_body_schema": {
        "type": "object",
        "properties": {
          "account_number": {
            "type": "string",
            "example": "1234"
          }
        }
      },
      "deposits_create_parameter_body_schema": {
        "type": "object",
        "properties": {
          "national_currency": {
            "type": "string",
            "example": "RUB"
          },
          "national_currency_amount": {
            "type": "number",
            "example": 3000.0
          },
          "external_order_id": {
            "type": "string",
            "example": "1234"
          },
          "locale": {
            "type": "string",
            "example": "ru"
          },
          "redirect_url": {
            "type": "string",
            "example": "https://example.com/redirect_url"
          },
          "callback_url": {
            "type": "string",
            "example": "https://example.com/callback_url"
          }
        }
      },
      "withdrawals_create_parameter_body_schema": {
        "type": "object",
        "properties": {
          "national_currency": {
            "type": "string",
            "example": "RUB"
          },
          "national_currency_amount": {
            "type": "number",
            "example": 3000.0
          },
          "external_order_id": {
            "type": "string",
            "example": "1234"
          },
          "locale": {
            "type": "string",
            "example": "ru"
          },
          "redirect_url": {
            "type": "string",
            "example": "https://example.com/redirect_url"
          },
          "callback_url": {
            "type": "string",
            "example": "https://example.com/callback_url"
          }
        }
      },
      "payments_create_response_body_schema": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "type": {
                "type": "string"
              },
              "attributes": {
                "type": "object",
                "properties": {
                  "uuid": {
                    "type": "string"
                  },
                  "url": {
                    "type": "string"
                  }
                },
                "required": [
                  "uuid",
                  "url"
                ]
              }
            },
            "required": [
              "id",
              "type",
              "attributes"
            ]
          }
        },
        "required": [
          "data"
        ]
      },
      "payments_show_response_body_schema": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "type": {
                "type": "string"
              },
              "attributes": {
                "type": "object",
                "properties": {
                  "uuid": {
                    "type": "string",
                    "example": "a342ab05-80d6-4f4c-90b9-5d88e9eeb3d7"
                  },
                  "external_order_id": {
                    "type": "string",
                    "example": "1234"
                  },
                  "created_at": {
                    "type": "string",
                    "example": "2023-11-01T12:53:56.397+03:00"
                  },
                  "national_currency": {
                    "type": "string",
                    "example": "RUB"
                  },
                  "national_currency_amount": {
                    "type": "string",
                    "example": "3000.0"
                  },
                  "initial_amount": {
                    "type": "string",
                    "example": "3000.0"
                  },
                  "cryptocurrency": {
                    "type": "string",
                    "example": "USDT"
                  },
                  "payment_system": {
                    "type": "string",
                    "example": "Sberbank"
                  },
                  "payment_status": {
                    "type": "string",
                    "example": "cancelled"
                  },
                  "cancellation_reason": {
                    "type": "string",
                    "example": "fraud_attempt"
                  },
                  "cryptocurrency_commission_amount": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "example": 9.99
                  },
                  "national_currency_commission_amount": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "example": 99.99
                  }
                },
                "required": [
                  "uuid",
                  "created_at",
                  "national_currency",
                  "national_currency_amount",
                  "cryptocurrency",
                  "payment_system",
                  "payment_status"
                ]
              }
            },
            "required": [
              "id",
              "type",
              "attributes"
            ]
          }
        },
        "required": [
          "data"
        ]
      }
    }
  },
  "security": {
    "bearerAuth": [

    ]
  }
}